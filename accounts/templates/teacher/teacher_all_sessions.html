{% extends 'partials/layout.html' %}

{% load static %} {% load crispy_forms_tags%}

{%block links %}
<link rel="stylesheet" href="{% static 'accounts/css/style.css' %}">
{% endblock %}

{% block title %}
<title>Sessions</title>
{% endblock %}

{% block userinfo %}
{% include 'partials/userinfo.html' %}
{% endblock %}

{%block content%}

{% if upcoming %}
    <center><h1>Upcoming Sessions</h1></center>
{% endif %}
<div class="item-container d-flex" id="parentCard">
    {% for session in upcoming_sessions %}
        <div class="my-card card shadow border rounded">
            <div class="card-body">
                <center><b><h3 class="card-title mb-3">{{ session.name }}</h3></b></center>
                <h6 class="card-text mb-3"><b>Start Date: </b> {{ session.start_date}}</h6>
                <div class="d-flex justify-content-around">
                <a href="{% url 'accounts:view_session_students' session.id 1 %}" class="btn btn-primary btnmedium">View Students</a>
                </div>
            </div>
        </div>
    {% endfor %}
</div>

{% if open %}
    <center><h1>Open Sessions</h1></center>
{% endif %}
<div class="item-container d-flex" id="parentCard">
    {% for session in open_sessions %}
        <div class="my-card card shadow border rounded">
            <div class="card-body">
                <center><b><h3 class="card-title mb-3">{{ session.name }}</h3></b></center>
                <h6 class="card-text mb-3"><b>Start Date: </b> {{ session.start_date}}</h6>
                <div class="d-flex justify-content-around">
                <a href="{% url 'accounts:view_session_students' session.id 1 %}" class="btn btn-primary btnmedium">View Students</a>
                <a href="{% url 'accounts:view_session_forms' session.id %}" class="btn btn-primary btnmedium">View Forms</a>
                </div>
            </div>
        </div>
    {% endfor %}
</div>

{% if close %}
    <center><h1 class="mt-3">Closed Sessions</h1></center>
{% endif %}

<div class="item-container d-flex" id="parentCard">
    {% for session in close_sessions %}
        <div class="my-card card shadow border rounded">
            <div class="card-body">
                <center><b><h3 class="card-title mb-3">{{ session.name }}</h3></b></center>
                <h6 class="card-text"><b>Start Date: </b> {{ session.start_date}}</h6>
                <h6 class="card-text"><b>End Date: </b> {{ session.end_date }}</h6>
                <div class="d-flex justify-content-around">
                    <a href="{% url 'accounts:view_session_students' session.id 0 %}" class="btn btn-primary btnmedium">View Students</a>
                    <a href="{% url 'accounts:view_session_teachers' session.id %}" class="btn btn-primary btnmedium">View Forms</a>
                </div>
            </div>
        </div>
    {% endfor %}
</div>

{% endblock %}